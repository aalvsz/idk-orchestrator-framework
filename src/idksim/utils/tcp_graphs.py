import matplotlib.pyplot as plt
import os, sys


def main(numero):
    # tu diccionario (res1) copialo tal cual
    res1 = {'Peso': 7984.237541822836, 'elastic_energy': 1.1451413565853181, 'elastic_energy_list': [0.36074261563440985, 0.39387866160239454, 0.4480956618884542, 0.49612655246290316, 0.5299713847705918, 0.5517240131152588, 0.5627118803684714, 0.5699894117703552, 0.5755642057550211], 'CO2': 14770.839452372247, 'dofS': 381897, 'TCP_X_pos_list': [-8.696630931853154e-05, -9.083080694840538e-05, -9.58390167691168e-05, -9.870252243988331e-05, -9.87101351122615e-05, -9.698267864990705e-05, -9.410901535841632e-05, -9.11289516900611e-05, -9.11723899013633e-05, -9.11289516900611e-05, -9.410901535841632e-05, -9.698267864990705e-05, -9.87101351122615e-05, -9.870252243988331e-05, -9.58390167691168e-05, -9.083080694840538e-05, -8.696630931853154e-05], 'TCP_X': 8.02081464793765e-06, 'TCP_Y_pos_list': [-2.1804492934329023e-05, -2.404890683674545e-05, -2.0079830912723777e-05, -1.7408263852946524e-05, -1.4717725941536366e-05, -1.1405299939524837e-05, -6.2104025235078266e-06, -4.996585052951726e-06, -4.3479306753515e-06, 4.996585052951726e-06, 6.2104025235078266e-06, 1.1405299939524837e-05, 1.4717725941536366e-05, 1.7408263852946524e-05, 2.0079830912723777e-05, 2.404890683674545e-05, 2.1804492934329023e-05], 'TCP_Y': 3.3085834489199414e-06, 'TCP_Z_pos_list': [-4.175464748465865e-05, -4.4009135961252034e-05, -4.7443976164763686e-05, -5.041964090311281e-05, -5.2443338618686895e-05, -5.363447910752967e-05, -5.411731537923161e-05, -5.432077414575264e-05, -5.462862795018071e-05, -5.432077414575264e-05, -5.411731537923161e-05, -5.363447910752967e-05, -5.2443338618686895e-05, -5.041964090311281e-05, -4.7443976164763686e-05, -4.4009135961252034e-05, -4.175464748465865e-05], 'TCP_Z': 9.465259021079736e-06, 'TCP_A_pos_list': [-7.079263561848929e-06, -7.763538079685572e-06, -6.374826411485272e-06, -5.450422506420455e-06, -4.510809402320894e-06, -3.3676547808696367e-06, -1.6348074845026595e-06, -1.3096345223584067e-06, -1.2322758379061213e-06, 1.3096345223584067e-06, 1.6348074845026595e-06, 3.3676547808696367e-06, 4.510809402320894e-06, 5.450422506420455e-06, 6.374826411485272e-06, 7.763538079685572e-06, 7.079263561848929e-06], 'TCP_A': 8.642110751128684e-06, 'TCP_B_pos_list': [3.823887205253505e-05, 3.933119671694971e-05, 4.0818941698504746e-05, 4.159655434634192e-05, 4.143975793592515e-05, 4.067670185658083e-05, 3.952933249750143e-05, 3.834972524822839e-05, 3.813416563781405e-05, 3.834972524822839e-05, 3.952933249750143e-05, 4.067670185658083e-05, 4.143975793592515e-05, 4.159655434634192e-05, 4.0818941698504746e-05, 3.933119671694971e-05, 3.823887205253505e-05], 'TCP_B': 2.0862492614125354e-06, 'TCP_C_pos_list': [1.441547294673555e-06, 1.1331470270741963e-06, 1.4339976086862064e-07, -4.539143591183678e-07, -1.22855937686801e-06, -1.8806422191742726e-06, -2.3349510118859024e-06, -1.4186658133503962e-06, 2.2708084578998587e-08, 1.4186658133503962e-06, 2.3349510118859024e-06, 1.8806422191742726e-06, 1.22855937686801e-06, 4.539143591183678e-07, -1.4339976086862064e-07, -1.1331470270741963e-06, -1.441547294673555e-06], 'TCP_C': 1.992057343722874e-06}
    res2 = {'Peso': 8696.101721711799, 'elastic_energy': 0.8964500889568833, 'elastic_energy_list': [0.32562153569819335, 0.3548413625128645, 0.3993149185194555, 0.4393857537472769, 0.46575762243315855, 0.4872130106638316, 0.49466622479777334, 0.5026178515139125, 0.5067742069938272], 'CO2': 16087.788185166828, 'dofS': 393174, 'TCP_X_pos_list': [-7.590777124933529e-05, -7.973729140731223e-05, -8.418459244045663e-05, -8.617011835209535e-05, -8.609158945160055e-05, -8.508249983561015e-05, -8.313519984352329e-05, -8.086117564893443e-05, -8.098411119672359e-05, -8.086117564893443e-05, -8.313519984352329e-05, -8.508249983561015e-05, -8.609158945160055e-05, -8.617011835209535e-05, -8.418459244045663e-05, -7.973729140731223e-05, -7.590777124933529e-05], 'TCP_X': 7.4045225639235715e-06, 'TCP_Y_pos_list': [-1.7507069922035494e-05, -2.137706575826011e-05, -1.8208196031735213e-05, -1.4944393130209115e-05, -1.2530019940379228e-05, -1.03437451075557e-05, -4.438382788377214e-06, -4.1470020603770064e-06, -3.1218530250772535e-06, 4.1470020603770064e-06, 4.438382788377214e-06, 1.03437451075557e-05, 1.2530019940379228e-05, 1.4944393130209115e-05, 1.8208196031735213e-05, 2.137706575826011e-05, 1.7507069922035494e-05], 'TCP_Y': 3.6903904439742052e-06, 'TCP_Z_pos_list': [-3.8789153633912976e-05, -4.071811218755194e-05, -4.347831013862065e-05, -4.591326205539719e-05, -4.745378947554286e-05, -4.8629019093551506e-05, -4.8923926266453315e-05, -4.920302739187336e-05, -4.9432272306277784e-05, -4.920302739187336e-05, -4.8923926266453315e-05, -4.8629019093551506e-05, -4.745378947554286e-05, -4.591326205539719e-05, -4.347831013862065e-05, -4.071811218755194e-05, -3.8789153633912976e-05], 'TCP_Z': 7.792615113850918e-06, 'TCP_A_pos_list': [-5.7778129147558634e-06, -7.014137100064925e-06, -5.864017870113003e-06, -4.75231969917039e-06, -3.88290461386466e-06, -3.127553286770066e-06, -1.134719871708183e-06, -1.0777491518038694e-06, -8.499104740416122e-07, 1.0777491518038694e-06, 1.134719871708183e-06, 3.127553286770066e-06, 3.88290461386466e-06, 4.75231969917039e-06, 5.864017870113003e-06, 7.014137100064925e-06, 5.7778129147558634e-06], 'TCP_A': 7.244204560076091e-06, 'TCP_B_pos_list': [3.339161709417894e-05, 3.4336253401303865e-05, 3.5522770237404825e-05, 3.594373552499999e-05, 3.568517284204348e-05, 3.513587840865857e-05, 3.433783612747321e-05, 3.340616130959634e-05, 3.325608454694924e-05, 3.340616130959634e-05, 3.433783612747321e-05, 3.513587840865857e-05, 3.568517284204348e-05, 3.594373552499999e-05, 3.5522770237404825e-05, 3.4336253401303865e-05, 3.339161709417894e-05], 'TCP_B': 1.5776017535248255e-06, 'TCP_C_pos_list': [2.1812233577020454e-06, 1.9974118563951074e-06, 9.495002010553381e-07, 3.0861527444480996e-07, -6.052150575866051e-07, -1.105093338858262e-06, -1.6332262989000045e-06, -1.1162345721904681e-06, 8.08332274753735e-08, 1.1162345721904681e-06, 1.6332262989000045e-06, 1.105093338858262e-06, 6.052150575866051e-07, -3.0861527444480996e-07, -9.495002010553381e-07, -1.9974118563951074e-06, -2.1812233577020454e-06], 'TCP_C': 2.555566239449615e-06}
    res3 = {'Peso': 9547.504156436022, 'elastic_energy': 0.7925165148062363, 'elastic_energy_list': [0.3042221257302462, 0.32634800062861113, 0.37135496903969856, 0.40884888440787226, 0.4362372243121615, 0.4584423828731532, 0.46589386456913195, 0.4784804320001017, 0.4841942129581427], 'CO2': 17662.88268940664, 'dofS': 399930, 'TCP_X_pos_list': [-6.906793990129473e-05, -7.183576300289827e-05, -7.618322986662495e-05, -8.146409184600982e-05, -8.346840655336723e-05, -8.29992937884627e-05, -8.137146652797665e-05, -8.005138742084138e-05, -7.964345425519423e-05, -8.005138742084138e-05, -8.137146652797665e-05, -8.29992937884627e-05, -8.346840655336723e-05, -8.146409184600982e-05, -7.618322986662495e-05, -7.183576300289827e-05, -6.906793990129473e-05], 'TCP_X': 1.0523600808316508e-05, 'TCP_Y_pos_list': [-1.4145625024083954e-05, -1.866185974854453e-05, -1.602931189344874e-05, -1.600236257203195e-05, -1.5090203956721223e-05, -1.0342535539904742e-05, -5.074957143547558e-06, -3.540487317007534e-06, -2.802739285748877e-06, 3.540487317007534e-06, 5.074957143547558e-06, 1.0342535539904742e-05, 1.5090203956721223e-05, 1.600236257203195e-05, 1.602931189344874e-05, 1.866185974854453e-05, 1.4145625024083954e-05], 'TCP_Y': 5.078808658949376e-06, 'TCP_Z_pos_list': [-3.705635911386548e-05, -3.843191323130009e-05, -4.1316663944979395e-05, -4.3702830363763835e-05, -4.540457091912159e-05, -4.666508525412051e-05, -4.695764422900062e-05, -4.755369987454352e-05, -4.784681472550058e-05, -4.755369987454352e-05, -4.695764422900062e-05, -4.666508525412051e-05, -4.540457091912159e-05, -4.3702830363763835e-05, -4.1316663944979395e-05, -3.843191323130009e-05, -3.705635911386548e-05], 'TCP_Z': 7.6133378393285405e-06, 'TCP_A_pos_list': [-4.684340863311882e-06, -6.18077308135725e-06, -5.295268568731317e-06, -5.233300882144503e-06, -4.870322619130786e-06, -3.195031947123248e-06, -1.3911742275265266e-06, -8.862507971045703e-07, -7.342858736749089e-07, 8.862507971045703e-07, 1.3911742275265266e-06, 3.195031947123248e-06, 4.870322619130786e-06, 5.233300882144503e-06, 5.295268568731317e-06, 6.18077308135725e-06, 4.684340863311882e-06], 'TCP_A': 6.283191883760952e-06, 'TCP_B_pos_list': [3.082005238485087e-05, 3.1411784365021245e-05, 3.250682040026784e-05, 3.396566769861093e-05, 3.434662764440827e-05, 3.39525080283421e-05, 3.325391142537557e-05, 3.264791893031875e-05, 3.234281188447318e-05, 3.264791893031875e-05, 3.325391142537557e-05, 3.39525080283421e-05, 3.434662764440827e-05, 3.396566769861093e-05, 3.250682040026784e-05, 3.1411784365021245e-05, 3.082005238485087e-05], 'TCP_B': 2.3203297022353794e-06, 'TCP_C_pos_list': [2.1174314291494e-06, 2.5746216367411115e-06, 2.401644558257084e-06, 1.651877033810877e-06, 7.361534688328475e-07, -5.333613621766315e-07, -1.3525401925101528e-06, -1.1496579114856104e-06, -7.029813224074494e-08, 1.1496579114856104e-06, 1.3525401925101528e-06, 5.333613621766315e-07, -7.361534688328475e-07, -1.651877033810877e-06, -2.401644558257084e-06, -2.5746216367411115e-06, -2.1174314291494e-06], 'TCP_C': 2.697438185101795e-06}
    res4 = {'Peso': 10486.90378135868, 'elastic_energy': 0.6660531506487838, 'elastic_energy_list': [0.2857940390964606, 0.3069399018985153, 0.3437758691266758, 0.3763925611767563, 0.3993340232134783, 0.41488963170834925, 0.42522045531349295, 0.43514969287085126, 0.4411280963807061], 'CO2': 19400.771995513558, 'dofS': 397062, 'TCP_X_pos_list': [-6.55512763584082e-05, -6.676141761487308e-05, -6.856808699532182e-05, -7.132093345753229e-05, -7.211340128713894e-05, -7.176915580759152e-05, -7.077299955213067e-05, -7.030234590226867e-05, -6.995694009690762e-05, -7.030234590226867e-05, -7.077299955213067e-05, -7.176915580759152e-05, -7.211340128713894e-05, -7.132093345753229e-05, -6.856808699532182e-05, -6.676141761487308e-05, -6.55512763584082e-05], 'TCP_X': 4.6668043122706096e-06, 'TCP_Y_pos_list': [-1.2591801554375227e-05, -1.554560236064652e-05, -1.4578600514110311e-05, -1.3071614821546284e-05, -1.356719123054525e-05, -1.0928825992049431e-05, -4.4586097064671414e-06, -2.523757506549974e-06, -2.8464343286338436e-06, 2.523757506549974e-06, 4.4586097064671414e-06, 1.0928825992049431e-05, 1.356719123054525e-05, 1.3071614821546284e-05, 1.4578600514110311e-05, 1.554560236064652e-05, 1.2591801554375227e-05], 'TCP_Y': 4.498271295062287e-06, 'TCP_Z_pos_list': [-3.552637747236754e-05, -3.6743222688368055e-05, -3.896544940777915e-05, -4.0968561423129806e-05, -4.237174494605289e-05, -4.3241059671571424e-05, -4.373227561440679e-05, -4.426885251998407e-05, -4.458958827141109e-05, -4.426885251998407e-05, -4.373227561440679e-05, -4.3241059671571424e-05, -4.237174494605289e-05, -4.0968561423129806e-05, -3.896544940777915e-05, -3.6743222688368055e-05, -3.552637747236754e-05], 'TCP_Z': 6.269808147592495e-06, 'TCP_A_pos_list': [-4.134731293851117e-06, -5.083179614470411e-06, -4.732646322363348e-06, -4.197137841079895e-06, -4.347687197910576e-06, -3.4168760370282647e-06, -1.2172699498561507e-06, -5.717763403201491e-07, -7.566989592494028e-07, 5.717763403201491e-07, 1.2172699498561507e-06, 3.4168760370282647e-06, 4.347687197910576e-06, 4.197137841079895e-06, 4.732646322363348e-06, 5.083179614470411e-06, 4.134731293851117e-06], 'TCP_A': 5.507303167057686e-06, 'TCP_B_pos_list': [2.9440724017299635e-05, 2.957945298141795e-05, 2.9920272115664577e-05, 3.0614597100407836e-05, 3.070809030018207e-05, 3.0449072688662797e-05, 3.003665651715623e-05, 2.9766221879364615e-05, 2.95425551821294e-05, 2.9766221879364615e-05, 3.003665651715623e-05, 3.0449072688662797e-05, 3.070809030018207e-05, 3.0614597100407836e-05, 2.9920272115664577e-05, 2.957945298141795e-05, 2.9440724017299635e-05], 'TCP_B': 7.448998079539305e-07, 'TCP_C_pos_list': [1.5151978488479682e-06, 1.5828524085331544e-06, 1.3492490974977143e-06, 8.549716673174863e-07, 5.726590085979219e-07, -8.315437208907681e-08, -8.641407542390273e-07, -8.263737599095232e-07, 8.958034622674104e-08, 8.263737599095232e-07, 8.641407542390273e-07, 8.315437208907681e-08, -5.726590085979219e-07, -8.549716673174863e-07, -1.3492490974977143e-06, -1.5828524085331544e-06, -1.5151978488479682e-06], 'TCP_C': 1.8311028683287315e-06}
    res5 = {'Peso': 11461.920191523117, 'elastic_energy': 0.63856215249281, 'elastic_energy_list': [0.27970582024845103, 0.3005920922290247, 0.33878522736498917, 0.36090001859954757, 0.3887816634217995, 0.40704367948140674, 0.41748073334797153, 0.4288482083439903, 0.4341340946675848], 'CO2': 21204.552354317766, 'dofS': 436503, 'TCP_X_pos_list': [-6.350653261681774e-05, -6.311358178543385e-05, -6.439655826507144e-05, -6.53216113916149e-05, -6.764479385420766e-05, -6.842972589352874e-05, -6.93747550950125e-05, -7.020902995587386e-05, -7.08690771554941e-05, -7.020902995587386e-05, -6.93747550950125e-05, -6.842972589352874e-05, -6.764479385420766e-05, -6.53216113916149e-05, -6.439655826507144e-05, -6.311358178543385e-05, -6.350653261681774e-05], 'TCP_X': 4.229686982626926e-06, 'TCP_Y_pos_list': [-1.2131169899519513e-05, -1.6082541803650843e-05, -1.2262116967540482e-05, -1.2079609495377078e-05, -1.1555994177349788e-05, -9.431020062979163e-06, -4.4333964472829015e-06, -4.491573724866416e-06, -3.483241138849267e-06, 4.491573724866416e-06, 4.4333964472829015e-06, 9.431020062979163e-06, 1.1555994177349788e-05, 1.2079609495377078e-05, 1.2262116967540482e-05, 1.6082541803650843e-05, 1.2131169899519513e-05], 'TCP_Y': 3.925649059131157e-06, 'TCP_Z_pos_list': [-3.4989902721104275e-05, -3.618320196402211e-05, -3.840511273909024e-05, -3.971865437802287e-05, -4.143960643601926e-05, -4.2540630586201795e-05, -4.323622924483177e-05, -4.3867283478739714e-05, -4.418409662075796e-05, -4.3867283478739714e-05, -4.323622924483177e-05, -4.2540630586201795e-05, -4.143960643601926e-05, -3.971865437802287e-05, -3.840511273909024e-05, -3.618320196402211e-05, -3.4989902721104275e-05], 'TCP_Z': 6.165723802461482e-06, 'TCP_A_pos_list': [-3.895018799542405e-06, -5.194599777259413e-06, -3.916894043681826e-06, -3.825204179379806e-06, -3.6673856647792135e-06, -2.9541690429806835e-06, -1.2829177295287039e-06, -1.2680286691851856e-06, -9.743782052068615e-07, 1.2680286691851856e-06, 1.2829177295287039e-06, 2.9541690429806835e-06, 3.6673856647792135e-06, 3.825204179379806e-06, 3.916894043681826e-06, 5.194599777259413e-06, 3.895018799542405e-06], 'TCP_A': 5.1242713518677405e-06, 'TCP_B_pos_list': [2.8771517583908502e-05, 2.8389934426968282e-05, 2.8639450427514075e-05, 2.8830001318654882e-05, 2.942558730818297e-05, 2.9561213322921617e-05, 2.9761053389158347e-05, 2.9936138638650483e-05, 3.004040154212043e-05, 2.9936138638650483e-05, 2.9761053389158347e-05, 2.9561213322921617e-05, 2.942558730818297e-05, 2.8830001318654882e-05, 2.8639450427514075e-05, 2.8389934426968282e-05, 2.8771517583908502e-05], 'TCP_B': 7.160718754459661e-07, 'TCP_C_pos_list': [6.131259908329945e-07, 8.811016468590066e-07, 7.419426620508593e-07, 5.180899400015568e-07, 6.670409686652071e-07, 5.202032136488462e-07, 1.1993844415276943e-07, -2.8507398049182755e-07, 1.9784786306742886e-08, 2.8507398049182755e-07, -1.1993844415276943e-07, -5.202032136488462e-07, -6.670409686652071e-07, -5.180899400015568e-07, -7.419426620508593e-07, -8.811016468590066e-07, -6.131259908329945e-07], 'TCP_C': 8.377688767417781e-07}


    resultado_nominal = {'Peso': 9821.927253772777, 'elastic_energy': 1.320873466836539, 'elastic_energy_list': [0.3930123554446261, 0.4312211795068063, 0.4989204967861138, 0.5509179538359795, 0.5793235834337035, 0.5782876825043852, 0.5856668039952054, 0.6004170041535627, 0.6126708906714278], 'CO2': 18170.56541947964, 'dofS': 402288, 'TCP_X_pos_list': [-8.218219084002432e-05, -8.709425995718119e-05, -9.093457703710912e-05, -9.611938548983502e-05, -9.436463734275997e-05, -8.992763020959022e-05, -8.532734824741321e-05, -8.332670735090751e-05, -8.020058322640783e-05, -8.332670735090751e-05, -8.532734824741321e-05, -8.992763020959022e-05, -9.436463734275997e-05, -9.611938548983502e-05, -9.093457703710912e-05, -8.709425995718119e-05, -8.218219084002432e-05], 'TCP_X': 7.795528380455231e-06, 'TCP_Y_pos_list': [-3.148138295737875e-05, -2.694788453281882e-05, -1.887197108244931e-05, -1.5383431523809177e-05, -1.7663543966212145e-05, -1.22359351278567e-05, -3.0494785778671655e-06, 2.1036392825870064e-07, -4.8217478870963785e-06, -2.1036392825870064e-07, 3.0494785778671655e-06, 1.22359351278567e-05, 1.7663543966212145e-05, 1.5383431523809177e-05, 1.887197108244931e-05, 2.694788453281882e-05, 3.148138295737875e-05], 'TCP_Y': 3.381179794161802e-06, 'TCP_Z_pos_list': [-4.3461010367649274e-05, -4.606498631070189e-05, -5.023794154444307e-05, -5.350356992570463e-05, -5.5202841386250756e-05, -5.49956995618154e-05, -5.5010665305173404e-05, -5.572371641695267e-05, -5.629624643005108e-05, -5.572371641695267e-05, -5.5010665305173404e-05, -5.49956995618154e-05, -5.5202841386250756e-05, -5.350356992570463e-05, -5.023794154444307e-05, -4.606498631070189e-05, -4.3461010367649274e-05], 'TCP_Z': 9.64438435235624e-06, 'TCP_A_pos_list': [-1.042749253166543e-05, -8.93234619196049e-06, -6.139795459050815e-06, -4.917901079349299e-06, -5.669489825410925e-06, -3.7818588275715935e-06, -6.517625992344214e-07, 4.1782700548140934e-07, -1.3848456231018986e-06, -4.1782700548140934e-07, 6.517625992344214e-07, 3.7818588275715935e-06, 5.669489825410925e-06, 4.917901079349299e-06, 6.139795459050815e-06, 8.93234619196049e-06, 1.042749253166543e-05], 'TCP_A': 1.1922261573852646e-05, 'TCP_B_pos_list': [3.5866600291570506e-05, 3.712669103783993e-05, 3.807407451794427e-05, 3.9501345040558794e-05, 3.863627268150207e-05, 3.708310013721376e-05, 3.5511087576656626e-05, 3.4751422045957454e-05, 3.358200423087461e-05, 3.4751422045957454e-05, 3.5511087576656626e-05, 3.708310013721376e-05, 3.863627268150207e-05, 3.9501345040558794e-05, 3.807407451794427e-05, 3.712669103783993e-05, 3.5866600291570506e-05], 'TCP_B': 1.9644726564193236e-06, 'TCP_C_pos_list': [2.96298018599181e-06, 2.9343097517524845e-06, 1.7655095632007264e-06, 7.968530985177125e-07, 3.185069129005961e-07, -1.3461946539962735e-06, -2.3097149831436783e-06, -2.003981223366751e-06, 1.3970564698758859e-08, 2.003981223366751e-06, 2.3097149831436783e-06, 1.3461946539962735e-06, -3.185069129005961e-07, -7.968530985177125e-07, -1.7655095632007264e-06, -2.9343097517524845e-06, -2.96298018599181e-06], 'TCP_C': 3.5477942851205417e-06}

     # diccionario global
    dic_list = {
        1: ("dic1", res1),
        2: ("dic2", res2),
        3: ("dic3", res3),
        4: ("dic4", res4),
        5: ("dic5", res5),
    }

    if numero not in dic_list:
        print(f"❌ Número inválido: {numero} (elige 1-5)")
        return

    key1, values1 = dic_list[numero]

    print("#"*20)
    save_dir = os.path.join(
        r"D:\idk_framework\idksimulation\results\__ROM_travesano_peso_en_elastica", 
        "tcp_graphs"
    )
    os.makedirs(save_dir, exist_ok=True)

    pos_list_keys = [k for k in values1.keys() if "pos_list" in k]
    
    fig, axs = plt.subplots(2, 3, figsize=(18, 10))
    axs = axs.flatten()

    for i, key2 in enumerate(pos_list_keys):
        ax = axs[i]
        y_res = [v * 1e6 for v in values1[key2]]
        ax.plot(range(len(y_res)), y_res, marker="o", linestyle="-", label=f"{key1}")

        if key2 in resultado_nominal:
            y_nominal = [v * 1e6 for v in resultado_nominal[key2]]
            ax.plot(range(len(y_nominal)), y_nominal, marker="x", linestyle="--", color="red", label="Nominal")

        ax.set_title(f"{key2}")
        ax.set_xlabel("Índice")
        ax.set_ylabel("[micra]")
        ax.grid(True)
        ax.legend()

    for j in range(i+1, 6):
        fig.delaxes(axs[j])

    plt.suptitle(f"{key1} vs Nominal - Comparación posiciones")
    plt.tight_layout(rect=[0, 0, 1, 0.95])
    file_name = os.path.join(save_dir, f"{key1}_subplots.png")
    plt.savefig(file_name, dpi=300)
    plt.show()
    plt.close()
    print(f"✅ Gráfico guardado en {file_name}")

if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("⚠️  Uso: python script.py [1-5]")
    else:
        try:
            numero = int(sys.argv[1])
            main(numero)
        except ValueError:
            print("❌ Argumento no válido, debe ser un número entre 1 y 5.")